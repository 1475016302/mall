(self["webpackChunksupermall1"]=self["webpackChunksupermall1"]||[]).push([[930],{1563:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return M}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart"},[n("NavBar",{staticClass:"nav-bar"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物车( "+t._s(t.length)+")")])]),n("CartList"),n("CartBottomBar")],1)},c=[],i=n(4367),s=n(4665),a=n(6180),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart-list"},[n("Scroll",{ref:"scroll",staticClass:"content"},t._l(t.cartList,(function(t,e){return n("CartListItem",{key:e,attrs:{itemInfo:t}})})),1)],1)},l=[],u=n(4966),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"shop-item"}},[n("div",{staticClass:"item-selector"},[n("CheckButton",{attrs:{"is-checked":t.itemInfo.checked},nativeOn:{click:function(e){return t.checkClick.apply(null,arguments)}}})],1),n("div",{staticClass:"item-img"},[n("img",{attrs:{src:t.itemInfo.image,alt:"商品图片"}})]),n("div",{staticClass:"item-info"},[n("div",{staticClass:"item-title"},[t._v(t._s(t.itemInfo.title))]),n("div",{staticClass:"item-desc"},[t._v(t._s(t.itemInfo.desc))]),n("div",{staticClass:"info-bottom"},[n("div",{staticClass:"item-price left"},[t._v("¥"+t._s(t.itemInfo.price))]),n("div",{staticClass:"item-count right"},[t._v("x"+t._s(t.itemInfo.count))])])])])},h=[],m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"check-button",class:{check:t.isChecked}},[r("img",{attrs:{src:n(3476),alt:""}})])},d=[],p={name:"CheckButton",props:{isChecked:{type:Boolean,default:!1}}},v=p,C=n(1001),k=(0,C.Z)(v,m,d,!1,null,"1f6d7782",null),y=k.exports,b={name:"CartListItem",components:{CheckButton:y},props:{itemInfo:{type:Object,default:function(){return{}}}},methods:{checkClick:function(){this.itemInfo.checked=!this.itemInfo.checked}}},g=b,_=(0,C.Z)(g,f,h,!1,null,"765aaa35",null),O=_.exports,L={name:"CartList",components:{Scroll:u.Z,CartListItem:O},computed:(0,i.Z)({},(0,s.Se)(["cartList"])),activated:function(){this.$refs.scroll.refresh()}},Z=L,j=(0,C.Z)(Z,o,l,!1,null,"25461eaa",null),w=j.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-bar"},[n("div",{staticClass:"check-content"},[n("CheckButton",{attrs:{isChecked:t.isSelectAll},nativeOn:{click:function(e){return t.checkClick.apply(null,arguments)}}}),n("span",[t._v("全选")])],1),n("div",{staticClass:"price"},[t._v(" "+t._s(t.totalPrice)+" ")]),n("div",{staticClass:"calculate",on:{click:t.calcClick}},[t._v(" 去结算："+t._s(t.checkLength)+" ")])])},S=[],B=(n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1703),n(8936));function P(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(0,B.Z)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,c=function(){};return{s:c,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}}}n(6977),n(7327),n(4747);var E={components:{CheckButton:y},name:"CartBottomBar",computed:(0,i.Z)((0,i.Z)({},(0,s.Se)(["cartList"])),{},{totalPrice:function(){return"￥"+this.cartList.filter((function(t){return t.checked})).reduce((function(t,e){return t+e.price*e.count}),0).toFixed(2)},checkLength:function(){return this.cartList.filter((function(t){return t.checked})).length},
//!0=true 
//!8=false
isSelectAll:function(){if(0===this.cartList.length)return!1;var t,e=P(this.cartList);try{for(e.s();!(t=e.n()).done;){var n=t.value;return!!n.checked}}catch(r){e.e(r)}finally{e.f()}}}),methods:{checkClick:function(){this.isSelectAll?this.cartList.forEach((function(t){return t.checked=!1})):this.cartList.forEach((function(t){return t.checked=!0}))},calcClick:function(){0===this.cartList.filter((function(t){return t.checked})).length&&this.$toast.show("请选择购买商品")}}},x=E,A=(0,C.Z)(x,I,S,!1,null,"a0e3299c",null),$=A.exports,D={name:"Cart",components:{NavBar:a.Z,CartList:w,CartBottomBar:$},computed:(0,i.Z)({},(0,s.Se)({length:"cartLength"}))},N=D,F=(0,C.Z)(N,r,c,!1,null,"b324a30c",null),M=F.exports},9337:function(t,e,n){var r=n(2109),c=n(9781),i=n(3887),s=n(5656),a=n(1236),o=n(6135);r({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(t){var e,n,r=s(t),c=a.f,l=i(r),u={},f=0;while(l.length>f)n=c(r,e=l[f++]),void 0!==n&&o(u,e,n);return u}})},3476:function(t,e,n){"use strict";t.exports=n.p+"img/tick.82dd6e3a.svg"},3748:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},4367:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});n(7941),n(2526),n(7327),n(1539),n(5003),n(4747),n(9337);var r=n(3796);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},8936:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});n(7042),n(1539),n(8309),n(1038),n(8783),n(4916),n(7601);var r=n(3748);function c(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}}}]);
//# sourceMappingURL=930-legacy.d68d5c57.js.map